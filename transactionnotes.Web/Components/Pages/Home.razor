@page "/"

@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager Navigation

<PageTitle>Welcome</PageTitle>

<CascadingAuthenticationState>
    <AuthorizeView>
        <NotAuthorized>
            <div class="container text-center mt-5">
                <h1 class="display-4 mb-3">Welcome to Transaction Notes</h1>
                <p class="lead mb-4">
                    Securely track, manage, and analyze your transactions.<br />
                    Get started by logging in or creating a new account.
                </p>
                <div class="d-flex justify-content-center gap-3 mb-2">
                    <form action="/account/login" method="post">
                        <AntiforgeryToken />
                        <button type="submit" class="btn btn-primary btn-lg">Login</button>
                    </form>
                </div>
                <div>
                    <a href="#" class="text-secondary small" style="text-decoration: underline; cursor: pointer;" @onclick="Register">
                        Don't have an account? Create one
                    </a>
                </div>
            </div>
        </NotAuthorized>
        <Authorized>
            <h1>Hello, world!</h1>
            Welcome to your new app!
        </Authorized>
    </AuthorizeView>
</CascadingAuthenticationState>

@code {
    private void Register()
    {
        Navigation.NavigateTo("/authentication/register", forceLoad: true);
    }
}
